pipeline {
     agent any

     environment {
         PATH= "/opt/Qt/5.9/bin/:$PATH"
         //LD_LIBRARY_PATH=/opt/Qt/5.9/lib
     }
 
     stages {
         stage('Build') {
             steps {
                 parallel linux: {
                     node('master') {
                         checkout scm
                         sh 'qmake src/ide.pro && make -j3'
                     }
                 },
                 windows: {
                     node('windows') {
                         checkout scm
                         //bat 'qmake src/ide.pro && make -j3'
                     }
                 },
                 macos: {
                     node('macos') {
                         checkout scm
                         sh 'qmake src/ide.pro && make -j3'
                     }
                 }
             }
         }
     }
}
